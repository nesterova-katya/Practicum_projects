# Анализ базы данных сервиса для чтения книг

# Описание данных

В этом описании представлены пять таблиц, которые составляют основу исходных данных:

---

***1. Таблица books***

Эта таблица содержит информацию о книгах:
  
  – `book_id` — уникальный идентификатор каждой книги;
  
  – `author_id` — идентификатор автора;
  
  – `title` — название книги;
  
  – `num_pages` — количество страниц;
  
  – `publication_date` — дата публикации;
  
  – `publisher_id` — уникальный идентификатор издательства.

---

***2. Таблица authors***

В этой таблице хранятся данные об авторах:

  – `author_id` — идентификатор автора;
  
  – `author` — имя автора.

---

***3. Таблица publishers***

Эта таблица содержит информацию об издательствах:

  – `publisher_id` — идентификатор издательства;
  
  – `publisher` — название издательства.

---

***4. Таблица ratings***

В этой таблице собраны пользовательские оценки книг:

  – `book_id` — идентификатор книги;
  
  – `username` — имя пользователя, оставившего оценку;
  
  – `rating` — оценка книги.

---

***5. Таблица reviews***

Эта таблица хранит пользовательские обзоры на книги:

  – `review_id` — идентификатор обзора;
  
  – `book_id` — идентификатор книги;
  
  – `username` — имя пользователя, написавшего обзор;
  
  – `text` — текст обзора.

# Задачи проекта

1. Посчитать, сколько книг вышло после 1 января 2000 года;

2. Для каждой книги посчитать количество обзоров и среднюю оценку;

3. Определить издательство, которое выпустило наибольшее число книг толще 50 страниц, исключив таким образом из анализа брошюры;

4. Определить автора с самой высокой средней оценкой книг — учитывать только книги с 50 и более оценками;

5. Посчитать среднее количество обзоров от пользователей, которые поставили больше 48 оценок.

# Выводы

***1. Исследование таблиц:***


**В ходе исследования были проанализированы следующие таблицы:**


- `Таблица books`

   - таблица books содержит информацию о книгах;

   - поле book_id является первичным ключом;

   - таблица имеет связь с другими таблицами по полям author_id и publisher_id;

   - таблица содержит информацию о количестве страниц (num_pages) в книгах и информацию о дате публикации (publication_date) книг;

   - количество записей в таблице:1000.
   
- `Таблица authors`

   - таблица authors содержит данные об авторах книг;

   - поле author_id является первичным ключом;

   - таблица authors связана с таблицей books по полю author_id;

   - количество записей в таблице: 636.
   
   
- `Таблица publishers`

   - таблица publishers содержит данные об издательствах;

   - поле publisher_id является первичным ключом;

   - таблица publishers связана с таблицей books по полю publisher_id;

   - количество записей в таблице: 340.

- `Таблица ratings`

   - таблица ratings содержит данные о пользовательских оценках книг;

   - поле rating_id является первичным ключом;

   - таблица ratings связана с таблицами books и reviews по полю book_id, являющимся внешним ключом;

   - таблица содержит информацию о имени пользователя (username), оставившего оценку и оценки книги (rating);

   - количество записей в таблице: 6456.
   
- `Таблица reviews`

   - таблица reviews содержит информацию об отзывах пользователей на книги;

   - поле review_id является первичным ключом;

   - таблица reviews связана с таблицами books и ratings по полю book_id, являющимся внешним ключом;

   - таблица содержит имя пользователя (username), оставившего отзыв и текста обзора (text);

   - количество записей в таблице: 2793.
   
   
---
***2. Выполнение задач:***

- `Посчитать, сколько книг вышло после 1 января 2000 года`

  - По результатам запроса, в таблице books содержится 819 книг, выпущенных после 1 января 2000 года.
  
  
- `Для каждой книги посчитать количество обзоров и среднюю оценку`

   - С помощью SQL запроса для каждой книги была получена информация о количестве обзоров на нее и среднем пользовательском рейтинге книги.
   

- ` Определить издательство, которое выпустило наибольшее число книг толще 50 страниц, исключив таким образом из анализа брошюры`

   - Согласно результатам SQL-запроса, исключив брошюры, издательство Penguin Books выпустило наибольшее количество книг толще 50 страниц. Количество выпущенных книг равно 42


- ` Определить автора с самой высокой средней оценкой книг — учитывать только книги с 50 и более оценками`

   - Согласно результатам SQL-запроса, учитывая только книги с 50 и более оценками, автор с самой высокой средней оценкой книг: J.K. Rowling/Mary GrandPré. Средний рейтинг книг равен 4,29.


- ` Посчитать среднее количество обзоров от пользователей, которые поставили больше 48 оценок`

   - Согласно результатам SQL-запроса, среднее количество обзоров от пользователей, которые поставили более 48 оценок, составляет 24.0.
